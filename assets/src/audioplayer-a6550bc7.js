import{j as e}from"../node_modules/react/jsx-runtime-2771aab2.js";import{r}from"../node_modules/react/index-4878784d.js";import{ReactComponent as C}from"./images/audio.svg-4fd96c52.js";import{ReactComponent as R}from"./images/info-test.svg-428a953b.js";import{ReactComponent as b}from"./images/audio-muted.svg-27c5f794.js";import{ReactComponent as A}from"./images/arrow.svg-092be3bf.js";import{motion as a}from"../node_modules/framer-motion/dist/es/render/dom/motion-6f684e40.js";import{AnimatePresence as E}from"../node_modules/framer-motion/dist/es/components/AnimatePresence/index-d870742c.js";function B({muted:s,toggleMute:m,nextSong:p,song:l}){let i=l.replace("/EdenfellWebsite/src/music/","");i=i.replace("/EdenfellWebsite/assets/",""),i.indexOf(".")!=-1&&(i=i.slice(0,i.indexOf("."))),i.indexOf("-")!=-1&&(i=i.slice(0,i.indexOf("-")));const d={hover:{scale:1.2},rest:{scale:1}},f={hover:{opacity:1},rest:{opacity:0}},v={hover:{backgroundColor:"rgba(0,0,0,0.35)"},rest:{backgroundColor:"rgba(0,0,0,0)"}},o=r.useRef(),t=r.useRef(),u=r.useRef(),[n,x]=r.useState(!1);function g(){console.log(i)}const c=r.useCallback(()=>{const y=o.current.currentTime,N=o.current.duration;t.current.max=N,t.current.value=y,o.current.volume=.1,u.current=requestAnimationFrame(c)});r.useEffect(()=>{s?o.current.pause():o.current.play(),u.current=requestAnimationFrame(c)},[s,o,c]);function h(){o.current.currentTime=t.current.value}function j(){x(!n)}return e.jsxs(a.div,{className:"audio-div",children:[e.jsxs(E,{children:[e.jsxs(a.div,{className:"icons-div",children:[e.jsxs(a.div,{className:"info-div",initial:"rest",whileHover:"hover",exit:"rest",variants:v,children:[!n&&e.jsx(a.div,{className:"song-name",children:e.jsxs(a.p,{variants:f,children:[i," - Lindsey Sterling"]},"hover-p")},"song-name"),!n&&e.jsx(a.div,{className:"info-icon",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(R,{variants:d},"info-img")},"info-icon")]},"info"),e.jsx("audio",{src:l,className:"audio",autoPlay:!0,muted:s,ref:o,onEnded:p,onPlay:g},"audio"),e.jsxs(a.div,{onClick:m,variants:d,className:"audio-icon-div",children:[!s&&e.jsx(C,{className:"audio-icon"},"audio-icon"),s&&e.jsx(b,{className:"muted-icon"},"muted-icon")]},"audio-icon-div")]},"icons"),!n&&e.jsx(a.div,{className:"progress-bar-div",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(a.input,{type:"range",className:"progress-bar",defaultValue:"0",ref:t,onChange:h})})]}),e.jsx(a.div,{className:"collapse-player-div",onClick:j,animate:{rotate:n?180:0,originY:"0.7vmax",originX:"0.4vmax"},children:e.jsx(A,{height:"100%",width:"100%"})})]})}export{B as default};
