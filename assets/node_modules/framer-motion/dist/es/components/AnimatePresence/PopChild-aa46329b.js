import{r as o}from"../../../../../react/index-4878784d.js";class c extends o.Component{getSnapshotBeforeUpdate(n){const t=this.props.childRef.current;if(t&&n.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:i,isPresent:n}){const t=o.useId(),e=o.useRef(null),s=o.useRef({width:0,height:0,top:0,left:0});return o.useInsertionEffect(()=>{const{width:p,height:h,top:d,left:f}=s.current;if(n||!e.current||!p||!h)return;e.current.dataset.motionPopId=t;const r=document.createElement("style");return document.head.appendChild(r),r.sheet&&r.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${h}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(r)}},[n]),o.createElement(c,{isPresent:n,childRef:e,sizeRef:s},o.cloneElement(i,{ref:e}))}export{u as PopChild};
