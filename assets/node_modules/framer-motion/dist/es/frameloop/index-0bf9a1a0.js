import{createRenderStep as f}from"./create-render-step-0548b404.js";import{frameData as r}from"./data-40fb45d5.js";const l=40;let n=!0,s=!1;const a=["read","update","preRender","render","postRender"],o=a.reduce((e,t)=>(e[t]=f(()=>s=!0),e),{}),d=e=>o[e].process(r),c=e=>{s=!1,r.delta=n?1e3/60:Math.max(Math.min(e-r.timestamp,l),1),r.timestamp=e,r.isProcessing=!0,a.forEach(d),r.isProcessing=!1,s&&(n=!1,requestAnimationFrame(c))},h=()=>{s=!0,n=!0,r.isProcessing||requestAnimationFrame(c)},E=a.reduce((e,t)=>{const i=o[t];return e[t]=(m,p=!1,u=!1)=>(s||h(),i.schedule(m,p,u)),e},{});function g(e){a.forEach(t=>o[t].cancel(e))}export{g as cancelFrame,E as frame,o as steps,a as stepsOrder};
