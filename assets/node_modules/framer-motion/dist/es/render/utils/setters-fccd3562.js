import{isNumericalString as m}from"../../utils/is-numerical-string-fb5acea8.js";import{isZeroValueString as d}from"../../utils/is-zero-value-string-7f36dc9e.js";import{resolveFinalValueInKeyframes as V}from"../../utils/resolve-value-09bae5b3.js";import{motionValue as c}from"../../value/index-2571ad88.js";import{complex as g}from"../../value/types/complex/index-d3a0bdae.js";import{getAnimatableNone as p}from"../dom/value-types/animatable-none-b96eba63.js";import{findValueType as y}from"../dom/value-types/find-9f5a55ed.js";import{resolveVariant as T}from"./resolve-dynamic-variants-52061d25.js";function b(e,n,t){e.hasValue(n)?e.getValue(n).set(t):e.addValue(n,c(t))}function K(e,n){const t=T(e,n);let{transitionEnd:i={},transition:a={},...o}=t?e.makeTargetAnimatable(t,!1):{};o={...o,...i};for(const l in o){const u=V(o[l]);b(e,l,u)}}function S(e,n,t){var i,a;const o=Object.keys(n).filter(u=>!e.hasValue(u)),l=o.length;if(l)for(let u=0;u<l;u++){const f=o[u],s=n[f];let r=null;Array.isArray(s)&&(r=s[0]),r===null&&(r=(a=(i=t[f])!==null&&i!==void 0?i:e.readValue(f))!==null&&a!==void 0?a:n[f]),r!=null&&(typeof r=="string"&&(m(r)||d(r))?r=parseFloat(r):!y(r)&&g.test(s)&&(r=p(f,s)),e.addValue(f,c(r,{owner:e})),t[f]===void 0&&(t[f]=r),r!==null&&e.setBaseTarget(f,r))}}function h(e,n){return n?(n[e]||n.default||n).from:void 0}function _(e,n,t){const i={};for(const a in e){const o=h(a,n);if(o!==void 0)i[a]=o;else{const l=t.getValue(a);l&&(i[a]=l.get())}}return i}export{S as checkTargetForNewValues,_ as getOrigin,h as getOriginFromTransition,K as setTarget};
