import{Feature as o}from"../Feature-0951dc07.js";let r=0;class d extends o{constructor(){super(...arguments),this.id=r++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:e??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}export{d as ExitAnimationFeature};
